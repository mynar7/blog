"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[809],{9525:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var a=n(1151),r=n(7294);function o(e){const t=Object.assign({div:"div",p:"p",pre:"pre",code:"code",h2:"h2",em:"em",strong:"strong"},(0,a.ah)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/f895f08a8735a26c5e6869bb5b314632/a2510/multimeter.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGRWtnkYsX/xAAaEAEBAAIDAAAAAAAAAAAAAAABEQACAxIx/9oACAEBAAEFAnjokIOdSb+XP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAARIDFh/9oACAEBAAY/AmaWof/EABoQAAMBAQEBAAAAAAAAAAAAAAABESFBMVH/2gAIAQEAAT8hV4KzWwNqunyUTpfTdcHfEf/aAAwDAQACAAMAAAAQoA//xAAXEQADAQAAAAAAAAAAAAAAAAAAEUFh/9oACAEDAQE/EHR4f//EABgRAAIDAAAAAAAAAAAAAAAAAAABETFh/9oACAECAQE/EElRGn//xAAeEAACAwACAwEAAAAAAAAAAAABEQAhQWGBMVFx0f/aAAgBAQABPxBgWmnQwIZ3EQFpoLmEhGzQfscQ4A0COiz+Sx4MUNHf2EMlCqf/2Q==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Picture of a multimeter testing circuits. Photo by Nicolas Thomas https://unsplash.com/photos/3GZi6OpSDcY"\n        title="Picture of a multimeter testing circuits. Photo by Nicolas Thomas https://unsplash.com/photos/3GZi6OpSDcY"\n        src="/static/f895f08a8735a26c5e6869bb5b314632/1c72d/multimeter.jpg"\n        srcset="/static/f895f08a8735a26c5e6869bb5b314632/a80bd/multimeter.jpg 148w,\n/static/f895f08a8735a26c5e6869bb5b314632/1c91a/multimeter.jpg 295w,\n/static/f895f08a8735a26c5e6869bb5b314632/1c72d/multimeter.jpg 590w,\n/static/f895f08a8735a26c5e6869bb5b314632/a8a14/multimeter.jpg 885w,\n/static/f895f08a8735a26c5e6869bb5b314632/a2510/multimeter.jpg 1000w"\n        sizes="(max-width: 590px) 100vw, 590px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",r.createElement(t.p,null,"Testing is a subject that nearly every tutorial and course tends to gracefully skip over. This is tragic because as soon as you enter the workforce as a developer, you‚Äôre going to be expected to write tests. You may even find yourself writing more tests than code. Too many new developers (myself included), walk into their first job blind to testing principles and practices. More than a few develop negative opinions of testing, and some even learn to resent it."),"\n",r.createElement(t.p,null,"Tests are not a necessary evil. In fact, I‚Äôve found a lot of comfort in well-written automated tests as I‚Äôve progressed in my career. With that said, let‚Äôs discuss some benefits of tests."),"\n",r.createElement(t.pre,{"js-live":!0,autorun:!0,"no-code":!0,scripts:"mocha!https://cdnjs.cloudflare.com/ajax/libs/mocha/8.0.1/mocha.min.js,chai!https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js,sinon!https://cdnjs.cloudflare.com/ajax/libs/sinon.js/9.0.2/sinon.min.js"},r.createElement(t.code,{className:"language-js"},'const {\n  EVENT_RUN_BEGIN,\n  EVENT_RUN_END,\n  EVENT_TEST_FAIL,\n  EVENT_TEST_PASS,\n  EVENT_SUITE_BEGIN,\n  EVENT_SUITE_END\n} = Mocha.Runner.constants;\n\nmocha.setup({\n  ui: "bdd",\n  reporter: function(runner) {\n\t\tlet currentSuite\n\t\tlet currentParent\n\t\tlet indent = 0\n\t\trunner.once(EVENT_RUN_BEGIN, () => {\n\t\t})\n\t\trunner.on(EVENT_SUITE_BEGIN, (suite) => {\n\t\t})\n\t\trunner.on(EVENT_SUITE_END, (suite) => {\n\t\t  if (suite.root) return\n\t\t \tindent = indent - 2 < 0 ? 0 : indent - 2\n\t\t})\n\t\trunner.on(EVENT_TEST_PASS, (test) => {\n\t\t\tif (currentParent !== test.parent.parent.title) {\n\t\t\t\tcurrentParent = test.parent.parent.title\n\t\t\t\tif (currentParent) {\n\t\t\t\t\tconsole.log(`${" ".repeat(indent)}${currentParent}`)\n\t\t\t\t\tindent += 2\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (currentSuite !== test.parent.title) {\n\t\t\t\tcurrentSuite = test.parent.title\n\t\t\t\tconsole.log(`${" ".repeat(indent)}${currentSuite}`)\n\t\t\t\tindent += 2\n\t\t\t}\n\n\t\t\tconsole.log(`${" ".repeat(indent)}üü¢ ${test.title}`)\n\t\t});\n\t\trunner.on(EVENT_TEST_FAIL, (test) => {\n\t\t\tif (currentParent !== test.parent.parent.title) {\n\t\t\t\tcurrentParent = test.parent.parent.title\n\t\t\t\tif (currentParent) {\n\t\t\t\t\tconsole.log(`${" ".repeat(indent)}${currentParent}`)\n\t\t\t\t\tindent += 2\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (currentSuite !== test.parent.title) {\n\t\t\t\tcurrentSuite = test.parent.title\n\t\t\t\tconsole.log(`${" ".repeat(indent)}${currentSuite}`)\n\t\t\t\tindent += 2\n\t\t\t}\n\n\t\t\tconsole.log(`${" ".repeat(indent)}‚ùå ${test.title}`)\n\t\t});\n\t\trunner.once(EVENT_RUN_END, () => {\n\t\t\tindent = 0\n\t\t\tconsole.log(`${runner.stats.passes}/${runner.stats.passes + runner.stats.failures} tests passing`);\n\t\t});\n  },\n  cleanReferencesAfterRun: true\n})\nwindow.assert = chai.assert;\nwindow.expect = chai.expect;\nwindow.mochaRun = mocha.run\nmocha.run = function() {\n  mocha.unloadFiles()\n  window.mochaRun()\n}\n')),"\n",r.createElement(t.h2,null,"Tests make maintaining and refactoring code much easier"),"\n",r.createElement(t.p,null,"Let‚Äôs say for example that you had a function that checks to see if a word is a palindrome (it‚Äôs the same backwards and forwards):"),"\n",r.createElement(t.pre,null,r.createElement(t.code,{className:"language-js"},'function isPalindrome(str) {\n\tstr = str.toLowerCase()\n\tlet strNoPunc = ""\n\tconst letters = \'abcdefghijklmnopqrstuvwxyz\'.split("")\n\tfor(var i = 0; i < str.length; i++) {\n\t\tif(letters.indexOf(str[i]) > -1) strNoPunc += str[i]\n\t}\n\tlet reversed = ""\n\tfor (var i = strNoPunc.length - 1; i >= 0; i--) {\n\t\treversed += strNoPunc[i]\n\t}\n\treturn reversed === strNoPunc\n}\n')),"\n",r.createElement(t.p,null,"You haven‚Äôt written a for loop since you first learned JavaScript, so it takes you a second to read through and see what‚Äôs happening in the function. It‚Äôs been humming along in your codebase for quite some time before you came across it, but you know you could write a more readable version. How do you proceed, though?"),"\n",r.createElement(t.p,null,"One way is to manually test with ",r.createElement(t.code,null,"console.log"),":"),"\n",r.createElement(t.pre,{"js-live":!0,autorun:!0},r.createElement(t.code,{className:"language-js"},"function isPalindrome(str) {\n\tstr = str.toLowerCase()\n\tlet strNoPunc = \"\"\n\tconst letters = 'abcdefghijklmnopqrstuvwxyz'.split(\"\")\n\tfor(var i = 0; i < str.length; i++) {\n\t\tif(letters.indexOf(str[i]) > -1) strNoPunc += str[i]\n\t}\n\tlet reversed = \"\"\n\tfor (var i = strNoPunc.length - 1; i >= 0; i--) {\n\t\treversed += strNoPunc[i]\n\t}\n\treturn reversed === strNoPunc\n}\nconsole.log(isPalindrome('radar'))\nconsole.log(isPalindrome('pasta'))\nconsole.log(isPalindrome('radar!'))\n")),"\n",r.createElement(t.p,null,"Apparently ",r.createElement(t.code,null,"isPalindrome")," returns a boolean and is able to handle special characters. But what about spaces? What about uppercase letters? Does it handle numbers? More importantly, ",r.createElement(t.em,null,"which one of those cases are important in your codebase?")),"\n",r.createElement(t.p,null,"That‚Äôs the rub when it comes to refactoring this function. You know more or less what the function does, but what about all the edge cases? What if it‚Äôs fed a non-string? Does it return a boolean or throw an error? Does that matter for your existing code that‚Äôs using ",r.createElement(t.code,null,"isPalindrome"),"?"),"\n",r.createElement(t.p,null,"In an ideal world, you‚Äôd have some well-written tests that outline the edge cases of your function. Test cases should cover the functionalities and behaviors of your code that are critical for the final product. Try rewriting the function below and running the tests to see if you can do better."),"\n",r.createElement(t.pre,{"js-live":!0,scripts:"mocha,chai"},r.createElement(t.code,{className:"language-js"},"function isPalindrome(str) {\n\tstr = str.toLowerCase()\n\tlet strNoPunc = \"\"\n\tconst letters = 'abcdefghijklmnopqrstuvwxyz'.split(\"\")\n\tfor(var i = 0; i < str.length; i++) {\n\t\tif(letters.indexOf(str[i]) > -1) strNoPunc += str[i]\n\t}\n\tlet reversed = \"\"\n\tfor (var i = strNoPunc.length - 1; i >= 0; i--) {\n\t\treversed += strNoPunc[i]\n\t}\n\treturn reversed === strNoPunc\n}\n\ndescribe('isPalindrome', function() {\n\tit('should return a boolean', function() {\n\t\texpect(typeof isPalindrome('banana')).to.eq('boolean')\n\t})\n\tit('should return true for a palindrome', function() {\n\t\texpect(isPalindrome('radar')).to.be.true\n\t})\n\tit('should return false for non-palindromes', function() {\n\t\texpect(isPalindrome('banana')).to.be.false\n\t})\n\tit('should ignore special characters', function() {\n\t\texpect(isPalindrome('radar!')).to.be.true\n\t})\n\tit('should ignore spaces', function() {\n\t\texpect(isPalindrome('my gym')).to.be.true\n\t})\n\tit('should ignore letter casing', function() {\n\t\texpect(isPalindrome('Eva, can I see bees in a cave?')).to.be.true\n\t})\n})\n\nmocha.run()\n")),"\n",r.createElement(t.p,null,"Were you able to get all the test cases to pass?"),"\n",r.createElement(t.p,null,"Did you write something like the following? If you didn‚Äôt, can you see what the solution below is missing? Try and add the missing code using the test cases:"),"\n",r.createElement(t.pre,{"js-live":!0,scripts:"mocha,chai"},r.createElement(t.code,{className:"language-js"},"function isPalindrome(str) {\n\treturn str === str.split(\"\").reverse().join(\"\")\n}\n\ndescribe('isPalindrome', function() {\n\tit('should return a boolean', function() {\n\t\texpect(typeof isPalindrome('banana')).to.eq('boolean')\n\t})\n\tit('should return true for a palindrome', function() {\n\t\texpect(isPalindrome('radar')).to.be.true\n\t})\n\tit('should return false for non-palindromes', function() {\n\t\texpect(isPalindrome('banana')).to.be.false\n\t})\n\tit('should ignore special characters', function() {\n\t\texpect(isPalindrome('radar!')).to.be.true\n\t})\n\tit('should ignore spaces', function() {\n\t\texpect(isPalindrome('my gym')).to.be.true\n\t})\n\tit('should ignore letter casing', function() {\n\t\texpect(isPalindrome('Eva, can I see bees in a cave?')).to.be.true\n\t})\n})\n\nmocha.run()\n")),"\n",r.createElement(t.p,null,"In the code above, we solved the main palindrome problem, but failed to handle special characters, casing, and spaces. Here‚Äôs the code with solutions for all the tests:"),"\n",r.createElement(t.pre,{"js-live":!0,scripts:"mocha,chai"},r.createElement(t.code,{className:"language-js"},"function isPalindrome(str) {\n\tstr = str.toLowerCase().replaceAll(/[^a-z]/g, \"\")\n\treturn str === str.split(\"\").reverse().join(\"\")\n}\n\ndescribe('isPalindrome', function() {\n\tit('should return a boolean', function() {\n\t\texpect(typeof isPalindrome('banana')).to.eq('boolean')\n\t})\n\tit('should return true for a palindrome', function() {\n\t\texpect(isPalindrome('radar')).to.be.true\n\t})\n\tit('should return false for non-palindromes', function() {\n\t\texpect(isPalindrome('banana')).to.be.false\n\t})\n\tit('should ignore special characters', function() {\n\t\texpect(isPalindrome('radar!')).to.be.true\n\t})\n\tit('should ignore spaces', function() {\n\t\texpect(isPalindrome('my gym')).to.be.true\n\t})\n\tit('should ignore letter casing', function() {\n\t\texpect(isPalindrome('Eva, can I see bees in a cave?')).to.be.true\n\t})\n})\n\nmocha.run()\n")),"\n",r.createElement(t.p,null,"This is a small example in isolation, but imagine your code base has many functions like this that are all interconnected in your project. Assuming your tests are up to date, you can hopefully imagine the peace of mind you get from having tests to double-check your code whenever you need to refactor it in the future."),"\n",r.createElement(t.h2,null,"Tests can be great documentation"),"\n",r.createElement(t.p,null,"Documentation is a perennial pain for most developers. It‚Äôs so difficult to keep improving software as well as keeping its documentation up to date because essentially the two are related but disconnected. What if you had documentation that read itself and told you when your code and docs were out of sync?"),"\n",r.createElement(t.p,null,"Good news! That‚Äôs basically what well-written tests do. Let‚Äôs look at the case titles from the previous section:"),"\n",r.createElement(t.pre,null,r.createElement(t.code,null,"should return a boolean\nshould return true for a palindrome\nshould return false for non-palindromes\nshould ignore special characters\nshould ignore spaces\nshould ignore letter casing\n")),"\n",r.createElement(t.p,null,"Well-written tests can be a great reference for understanding how a piece of code works without having to step through the implementation. Looking at the test cases above, you‚Äôre able to learn a lot about the function in question without even looking at the function‚Äôs code."),"\n",r.createElement(t.p,null,"Not only do these tests tell the developer ",r.createElement(t.em,null,"exactly")," how the function is supposed to behave, when you run the tests they ",r.createElement(t.strong,null,"enforce")," those rules as well. Including automation that runs these tests before deploys provides a pretty powerful system to prevent breaking the project when refactoring or introducing new features."),"\n",r.createElement(t.h2,null,"Closing thoughts"),"\n",r.createElement(t.p,null,"Writing tests is like writing documentation or learning Git: you don‚Äôt appreciate it until you need it. Because tests don‚Äôt directly contribute to the functionality of the product, they‚Äôre often overlooked by teams looking to iterate quickly. You‚Äôd be hard-pressed to find good tutorials on tests or courses that bother to spend time teaching how to write them for the same reason."),"\n",r.createElement(t.p,null,"However, the nature of code is that it‚Äôs temporary. There will always be revisions, refactors, or rewrites to any code that lives long enough to be deemed legacy. In each of those cases, well-written tests can make a huge difference when revisiting old code."),"\n",r.createElement(t.p,null,"Sadly, I didn‚Äôt actually encounter testing in a meaningful way until I was already employed as a junior developer. When I tried to submit my first pull request at my first job, I had to go back and write tests not only for the code in my pull request, but for code other engineers had merged and left untested. I can tell you from experience that the last few days of your first sprint are not when you want to be learning how to write tests."),"\n",r.createElement(t.p,null,"Years later, I found myself writing tests to tame a project that was previously seen as an untenable monster of legacy code. Our team inherited the project and codebase from a prevous contractor, and therefore were behind the curve in understanding how everything worked. Good testing practices showed us how we could keep bugs from reaching production and brought a new level of confidence to our team despite our unfamiliar codebase."),"\n",r.createElement(t.p,null,"Testing is a big subject, but it‚Äôs an important one. Give it the head space it deserves in your career. The codebase you save might just be your own."))}var s=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?r.createElement(t,e,r.createElement(o,e)):o(e)},i=n(1883),l=n(4915),c=n(2899),u=n(8183),d=n(9175);function A(e){const t=e.data.mdx,n=e.data.site.siteMetadata.title,{previous:a,next:o}=e.pageContext;return r.createElement(c.Z,{location:e.location,title:n},r.createElement(u.Z,{title:t.frontmatter.title,description:t.excerpt,twitterImageUrl:e.data.site.siteMetadata.siteUrl+e.pageContext.slug+"twitter-card.jpg",twitterImageAltText:"Card with Author Portrait Logo Titled: "+e.data.mdx.frontmatter.title+" written by "+e.data.site.siteMetadata.author+" on "+e.data.site.siteMetadata.title}),r.createElement("h1",{style:{marginTop:(0,d.qZ)(2.5)}},t.frontmatter.title),r.createElement("p",{style:{...(0,d.bA)(-.2),display:"block",marginBottom:(0,d.qZ)(1),marginTop:(0,d.qZ)(-1)}},t.frontmatter.date),e.children,r.createElement("hr",{style:{marginBottom:(0,d.qZ)(1)}}),r.createElement(l.Z),r.createElement("ul",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",listStyle:"none",padding:0}},r.createElement("li",null,a&&r.createElement(i.Link,{to:a.fields.slug,rel:"prev"}," ‚Üê ",a.frontmatter.title)),r.createElement("li",null,o&&r.createElement(i.Link,{to:o.fields.slug,rel:"next"},o.frontmatter.title," ‚Üí"))))}function m(e){return r.createElement(A,e,r.createElement(s,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-home-lee-dev-side-projects-blog-content-blog-why-write-tests-index-md-a833fcc7c02213aedb95.js.map